{"ast":null,"code":"var _jsxFileName = \"/home/user/endofhunger/dineflowreact/src/pages/AdminPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AdminPage() {\n  _s();\n  // ── State ───────────────────────────────────────\n  const [activeTab, setActiveTab] = useState('menu');\n  const [menuItems, setMenuItems] = useState([]);\n  const [tables, setTables] = useState([]);\n  const [categories, setCategories] = useState([]);\n\n  // Modals\n  const [isMenuModalOpen, setIsMenuModalOpen] = useState(false);\n  const [isTableModalOpen, setIsTableModalOpen] = useState(false);\n  const [isQRModalOpen, setIsQRModalOpen] = useState(false);\n  const [selectedTableForQR, setSelectedTableForQR] = useState(null);\n  const [confirmModal, setConfirmModal] = useState({\n    show: false,\n    message: '',\n    onConfirm: () => {}\n  });\n\n  // Add New Category Inline\n  const [showNewCategoryInput, setShowNewCategoryInput] = useState(false);\n  const [newCategoryName, setNewCategoryName] = useState('');\n\n  // Form data\n  const [currentMenuItem, setCurrentMenuItem] = useState({});\n  const [currentTable, setCurrentTable] = useState({});\n  const [menuImagePreview, setMenuImagePreview] = useState(null);\n  const [menuImageFile, setMenuImageFile] = useState(null);\n\n  // Loading & Filters\n  const [isMenuLoading, setIsMenuLoading] = useState(false);\n  const [isTablesLoading, setIsTablesLoading] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('');\n\n  // Toast\n  const [toast, setToast] = useState({\n    show: false,\n    message: '',\n    type: 'success'\n  });\n\n  // Refs\n  const qrRefs = useRef({});\n  const BASE_URL = window.location.origin;\n  const API_URL = 'http://localhost:5000';\n\n  // ── Helpers ─────────────────────────────────────\n  const showToast = (msg, type = 'success') => {\n    setToast({\n      show: true,\n      message: msg,\n      type\n    });\n    setTimeout(() => setToast({\n      show: false,\n      message: '',\n      type: 'success'\n    }), 3000);\n  };\n  const openConfirm = (message, onYes) => {\n    setConfirmModal({\n      show: true,\n      message,\n      onConfirm: onYes\n    });\n  };\n\n  // ── Load QRCode lib ─────────────────────────────\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = 'https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js';\n    script.async = true;\n    document.body.appendChild(script);\n    return () => {\n      if (document.body.contains(script)) document.body.removeChild(script);\n    };\n  }, []);\n\n  // ── Load data ───────────────────────────────────\n  useEffect(() => {\n    loadMenu();\n    loadTables();\n    loadCategories();\n  }, []);\n\n  // ── Generate QR codes ───────────────────────────\n  useEffect(() => {\n    if (typeof window.QRCode === 'undefined' || tables.length === 0) return;\n    tables.forEach(table => {\n      const el = qrRefs.current[table.id];\n      if (el && !el.hasChildNodes()) {\n        new window.QRCode(el, {\n          text: `${BASE_URL}/customer.html?table=${table.table_number}`,\n          width: 200,\n          height: 200\n        });\n      }\n    });\n  }, [tables]);\n\n  // ── API Calls ───────────────────────────────────\n  const loadMenu = useCallback(async () => {\n    setIsMenuLoading(true);\n    try {\n      const res = await fetch(`${API_URL}/api/menu`);\n      const json = await res.json();\n      if (json.success) setMenuItems(json.data || []);\n    } catch (err) {\n      showToast('Failed to load menu', 'error');\n    } finally {\n      setIsMenuLoading(false);\n    }\n  }, []);\n  const loadTables = useCallback(async () => {\n    setIsTablesLoading(true);\n    try {\n      const res = await fetch(`${API_URL}/api/tables`);\n      const json = await res.json();\n      if (json.success) setTables(json.data || []);\n    } catch {\n      showToast('Failed to load tables', 'error');\n    } finally {\n      setIsTablesLoading(false);\n    }\n  }, []);\n  const loadCategories = useCallback(async () => {\n    try {\n      const res = await fetch(`${API_URL}/api/categories`);\n      const json = await res.json();\n      if (json.success && Array.isArray(json.data)) {\n        setCategories(json.data.filter(c => c && c.trim() !== ''));\n      }\n    } catch {\n      setCategories(['Appetizer', 'Main Course', 'Dessert', 'Beverage', 'Salad']);\n    }\n  }, []);\n\n  // ── Add New Category ────────────────────────────\n  const addNewCategory = async () => {\n    const name = newCategoryName.trim();\n    if (!name || categories.includes(name)) {\n      showToast(name ? 'Category already exists' : 'Enter a name', 'error');\n      return;\n    }\n    try {\n      const res = await fetch(`${API_URL}/api/categories`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name\n        })\n      });\n      const json = await res.json();\n      if (json.success) {\n        setCategories(prev => [...prev, name]);\n        setNewCategoryName('');\n        setShowNewCategoryInput(false);\n        showToast(`Category \"${name}\" added!`, 'success');\n      } else {\n        showToast(json.message || 'Failed to add category', 'error');\n      }\n    } catch {\n      showToast('Network error', 'error');\n    }\n  };\n\n  // ── Handlers ───────────────────────────────────\n  const handleImageChange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    setMenuImageFile(file);\n    const reader = new FileReader();\n    reader.onloadend = () => setMenuImagePreview(reader.result);\n    reader.readAsDataURL(file);\n  };\n\n  // ── Submit Handlers ─────────────────────────────\n  const handleMenuSubmit = async e => {\n    e.preventDefault();\n    const f = new FormData(e.target);\n    const id = f.get('id');\n    const category = f.get('category');\n    let image_url = currentMenuItem.image_url || null;\n    if (menuImageFile) {\n      const promise = () => new Promise(res => {\n        const r = new FileReader();\n        r.onloadend = () => res(r.result);\n        r.readAsDataURL(menuImageFile);\n      });\n      image_url = await promise();\n    }\n    const payload = {\n      name: f.get('name'),\n      description: f.get('description'),\n      price_inr: parseFloat(f.get('price_inr')),\n      price_usd: parseFloat(f.get('price_usd')),\n      category,\n      is_available: f.get('is_available') === 'on',\n      image_url\n    };\n    try {\n      const url = id ? `${API_URL}/api/menu/${id}` : `${API_URL}/api/menu`;\n      const res = await fetch(url, {\n        method: id ? 'PUT' : 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      const json = await res.json();\n      if (json.success) {\n        closeMenuModal();\n        loadMenu();\n        loadCategories(); // Refresh categories in case new one was used\n        showToast(id ? 'Item updated!' : 'Item added!', 'success');\n      } else {\n        showToast(json.message || 'Failed to save', 'error');\n      }\n    } catch {\n      showToast('Save failed', 'error');\n    }\n  };\n  const handleTableSubmit = async e => {\n    e.preventDefault();\n    const f = new FormData(e.target);\n    const id = f.get('id');\n    const num = parseInt(f.get('table_number'), 10);\n    const payload = {\n      table_number: num,\n      table_name: f.get('table_name') || null\n    };\n    try {\n      const url = id ? `${API_URL}/api/tables/${id}` : `${API_URL}/api/tables`;\n      const res = await fetch(url, {\n        method: id ? 'PUT' : 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      const json = await res.json();\n      if (json.success) {\n        closeTableModal();\n        loadTables();\n        showToast(id ? 'Table updated' : 'Table added', 'success');\n        if (!id) setTimeout(() => showQRModal({\n          ...payload,\n          id: json.data.id,\n          table_number: num\n        }), 300);\n      } else showToast(json.message || 'Failed', 'error');\n    } catch {\n      showToast('Save error', 'error');\n    }\n  };\n\n  // ── DELETE MENU ITEM (NOW REALLY WORKS) ─────────\n  const deleteMenuItem = id => {\n    openConfirm('Delete this menu item permanently?', async () => {\n      try {\n        const res = await fetch(`${API_URL}/api/menu/${id}`, {\n          method: 'DELETE'\n        });\n        const json = await res.json();\n        if (json.success) {\n          setMenuItems(prev => prev.filter(item => item.id !== id));\n          showToast('Item deleted successfully!', 'success');\n          loadCategories(); // Refresh in case category becomes empty\n        } else {\n          showToast(json.message || 'Cannot delete (used in orders)', 'error');\n        }\n      } catch (err) {\n        console.error(err);\n        showToast('Delete failed', 'error');\n      }\n      setConfirmModal({\n        show: false\n      });\n    });\n  };\n  const deleteTable = id => {\n    openConfirm('Delete this table & QR code?', async () => {\n      try {\n        const res = await fetch(`${API_URL}/api/tables/${id}`, {\n          method: 'DELETE'\n        });\n        const json = await res.json();\n        if (json.success) {\n          loadTables();\n          showToast('Table deleted', 'success');\n        }\n      } catch {\n        showToast('Error', 'error');\n      }\n    });\n  };\n\n  // ── Modal Controls ─────────────────────────────\n  const showAddMenuModal = () => {\n    setCurrentMenuItem({});\n    setMenuImagePreview(null);\n    setMenuImageFile(null);\n    setShowNewCategoryInput(false);\n    setNewCategoryName('');\n    setIsMenuModalOpen(true);\n  };\n  const editMenuItem = item => {\n    setCurrentMenuItem(item);\n    setMenuImagePreview(item.image_url || null);\n    setMenuImageFile(null);\n    setShowNewCategoryInput(false);\n    setNewCategoryName('');\n    setIsMenuModalOpen(true);\n  };\n  const closeMenuModal = () => setIsMenuModalOpen(false);\n  const closeTableModal = () => setIsTableModalOpen(false);\n  const showAddTableModal = () => {\n    setCurrentTable({});\n    setIsTableModalOpen(true);\n  };\n  const editTable = t => {\n    setCurrentTable(t);\n    setIsTableModalOpen(true);\n  };\n  const showQRModal = t => {\n    setSelectedTableForQR(t);\n    setIsQRModalOpen(true);\n  };\n  const closeQRModal = () => setIsQRModalOpen(false);\n  const printQR = id => {\n    const el = document.getElementById(`qr-modal-${id}`) || document.getElementById(`qr-${id}`);\n    if (!(el !== null && el !== void 0 && el.parentElement)) return;\n    const win = window.open('', '', 'width=800,height=600');\n    win.document.write(`\n      <html><head><title>QR - Table ${id}</title>\n      <style>body{display:flex;justify-content:center;align-items:center;height:100vh;background:#f9fafb;}\n      .box{background:white;padding:40px;border-radius:12px;box-shadow:0 10px 25px rgba(0,0,0,.1);}</style>\n      </head><body><div class=\"box\">${el.parentElement.innerHTML}</div></body></html>\n    `);\n    win.document.close();\n    win.focus();\n    setTimeout(() => {\n      win.print();\n      win.close();\n    }, 500);\n  };\n\n  // ── Filters ───────────────────────────────────\n  const filtered = menuItems.filter(i => {\n    var _i$description;\n    const s = searchTerm.toLowerCase();\n    const nameOk = i.name.toLowerCase().includes(s);\n    const descOk = (_i$description = i.description) === null || _i$description === void 0 ? void 0 : _i$description.toLowerCase().includes(s);\n    const catOk = !selectedCategory || i.category === selectedCategory;\n    return (nameOk || descOk) && catOk;\n  });\n  const getCategoryColor = c => {\n    const map = {\n      Appetizer: 'bg-yellow-100 text-yellow-800',\n      'Main Course': 'bg-blue-100 text-blue-800',\n      Dessert: 'bg-pink-100 text-pink-800',\n      Beverage: 'bg-purple-100 text-purple-800',\n      Salad: 'bg-green-100 text-green-800'\n    };\n    return map[c] || 'bg-gray-100 text-gray-800';\n  };\n\n  // ── Render ─────────────────────────────────────\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes fade {from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}\n        .fade{animation:fade .3s ease-out}\n        .card{transition:all .3s}\n        .card:hover{transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,0,0,.1)}\n        .btn{transition:all .2s;cursor:pointer}\n        .btn:hover{transform:scale(1.05)}\n        .toast{position:fixed;bottom:20px;right:20px;padding:16px 24px;background:white;border-radius:8px;\n          box-shadow:0 4px 12px rgba(0,0,0,.15);display:flex;align-items:center;z-index:1000;\n          transform:translateX(400px);transition:transform .3s}\n        .toast.show{transform:translateX(0)}\n        .toast.success{border-left:4px solid #10b981}\n        .toast.error{border-left:4px solid #ef4444;background:#fef2f2;color:#991b1b}\n        .loader{border:4px solid #f3f3f3;border-top:4px solid #9333ea;border-radius:50%;width:40px;height:40px;\n          animation:spin 1s linear infinite;margin:20px auto}\n        @keyframes spin{to{transform:rotate(360deg)}}\n        .gradient-bg{background:linear-gradient(135deg,#667eea,#764ba2)}\n        .cat-badge{padding:4px 8px;border-radius:4px;font-size:.75rem;font-weight:600}\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"gradient-bg text-white p-6 shadow-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold\",\n            children: \"Admin Panel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-purple-200 mt-1\",\n            children: \"Manage Menu & Tables\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('menu'),\n            className: `px-6 py-3 font-semibold ${activeTab === 'menu' ? 'text-purple-600 border-b-2 border-purple-600' : 'text-gray-600'}`,\n            children: \"Menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('tables'),\n            className: `px-6 py-3 font-semibold ${activeTab === 'tables' ? 'text-purple-600 border-b-2 border-purple-600' : 'text-gray-600'}`,\n            children: \"Tables\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), activeTab === 'menu' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold\",\n              children: \"Menu Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: showAddMenuModal,\n              className: \"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded font-medium\",\n              children: \"Add Item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search...\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              className: \"flex-1 px-4 py-2 border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedCategory,\n              onChange: e => setSelectedCategory(e.target.value),\n              className: \"px-4 py-2 border rounded\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"All Categories\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: c,\n                children: c\n              }, c, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), isMenuLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 17\n          }, this) : filtered.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center text-gray-500 py-12\",\n            children: \"No items found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n            children: filtered.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg shadow overflow-hidden card\",\n              children: [item.image_url && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image_url,\n                alt: item.name,\n                className: \"w-full h-48 object-cover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 42\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-bold text-lg\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600 mt-1\",\n                  children: item.description || 'No description'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xl font-bold text-purple-600\",\n                    children: [\"\\u20B9\", item.price_inr]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `cat-badge ${getCategoryColor(item.category)}`,\n                    children: item.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2 mt-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => editMenuItem(item),\n                    className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-sm\",\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => deleteMenuItem(item.id),\n                    className: \"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded text-sm\",\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 23\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this), activeTab === 'tables' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold\",\n              children: \"Tables\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: showAddTableModal,\n              className: \"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded font-medium\",\n              children: \"Add Table\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this), isTablesLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 17\n          }, this) : tables.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center text-gray-500 py-12\",\n            children: \"No tables\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\",\n            children: tables.map(t => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg shadow p-6 text-center card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-bold text-xl\",\n                children: t.table_name || `Table ${t.table_number}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: el => qrRefs.current[t.id] = el,\n                className: \"my-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2 mt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => editTable(t),\n                  className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-sm\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => showQRModal(t),\n                  className: \"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded text-sm\",\n                  children: \"QR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => deleteTable(t.id),\n                  className: \"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded text-sm\",\n                  children: \"Del\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 23\n              }, this)]\n            }, t.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), isMenuModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",\n        onClick: closeMenuModal,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4\",\n            children: [currentMenuItem.id ? 'Edit' : 'Add', \" Item\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleMenuSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"hidden\",\n              name: \"id\",\n              value: currentMenuItem.id || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this), menuImagePreview && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: menuImagePreview,\n              alt: \"prev\",\n              className: \"w-full h-48 object-cover rounded mb-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: handleImageChange,\n              className: \"w-full mb-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"name\",\n              defaultValue: currentMenuItem.name,\n              placeholder: \"Name\",\n              required: true,\n              className: \"w-full px-4 py-2 border mb-3 rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"description\",\n              defaultValue: currentMenuItem.description,\n              placeholder: \"Description\",\n              className: \"w-full px-4 py-2 border mb-3 rounded\",\n              rows: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-3 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"price_inr\",\n                type: \"number\",\n                step: \"0.01\",\n                defaultValue: currentMenuItem.price_inr,\n                placeholder: \"INR\",\n                required: true,\n                className: \"px-4 py-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"price_usd\",\n                type: \"number\",\n                step: \"0.01\",\n                defaultValue: currentMenuItem.price_usd,\n                placeholder: \"USD\",\n                required: true,\n                className: \"px-4 py-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"category\",\n                defaultValue: currentMenuItem.category || '',\n                required: true,\n                className: \"w-full px-4 py-2 border rounded\",\n                onChange: e => {\n                  if (e.target.value === 'add-new') {\n                    setShowNewCategoryInput(true);\n                    e.target.value = '';\n                  }\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 21\n                }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: c,\n                  children: c\n                }, c, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 23\n                }, this)), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"add-new\",\n                  children: \"\\u2795 Add New Category...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 19\n              }, this), showNewCategoryInput && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2 mt-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"New category name\",\n                  value: newCategoryName,\n                  onChange: e => setNewCategoryName(e.target.value),\n                  className: \"flex-1 px-3 py-2 border rounded\",\n                  autoFocus: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: addNewCategory,\n                  className: \"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm\",\n                  children: \"Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => {\n                    setShowNewCategoryInput(false);\n                    setNewCategoryName('');\n                  },\n                  className: \"bg-gray-400 hover:bg-gray-500 text-white px-3 py-2 rounded text-sm\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                name: \"is_available\",\n                defaultChecked: currentMenuItem.is_available !== false,\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 19\n              }, this), \"Available\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-2 rounded font-medium\",\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: closeMenuModal,\n                className: \"flex-1 bg-gray-300 hover:bg-gray-400 py-2 rounded\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 11\n      }, this), isTableModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",\n        onClick: closeTableModal,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg max-w-md w-full p-6\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4\",\n            children: [currentTable.id ? 'Edit' : 'Add', \" Table\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleTableSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"hidden\",\n              name: \"id\",\n              value: currentTable.id || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"table_number\",\n              type: \"number\",\n              defaultValue: currentTable.table_number,\n              placeholder: \"Number\",\n              required: true,\n              className: \"w-full px-4 py-2 border mb-3 rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"table_name\",\n              defaultValue: currentTable.table_name,\n              placeholder: \"Name (optional)\",\n              className: \"w-full px-4 py-2 border mb-3 rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-2 rounded font-medium\",\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: closeTableModal,\n                className: \"flex-1 bg-gray-300 hover:bg-gray-400 py-2 rounded\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 11\n      }, this), isQRModalOpen && selectedTableForQR && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",\n        onClick: closeQRModal,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg max-w-md w-full p-6 text-center\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4\",\n            children: [\"QR \\u2013 Table \", selectedTableForQR.table_number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: `qr-modal-${selectedTableForQR.id}`,\n            ref: el => qrRefs.current[selectedTableForQR.id] = el\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => printQR(selectedTableForQR.id),\n              className: \"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded\",\n              children: \"Print\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: closeQRModal,\n              className: \"flex-1 bg-gray-300 hover:bg-gray-400 py-2 rounded\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 11\n      }, this), confirmModal.show && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-6 max-w-sm w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg mb-6\",\n            children: confirmModal.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                confirmModal.onConfirm();\n                setConfirmModal({\n                  show: false\n                });\n              },\n              className: \"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded\",\n              children: \"Yes, Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setConfirmModal({\n                show: false\n              }),\n              className: \"flex-1 bg-gray-300 hover:bg-gray-400 py-2 rounded\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `toast ${toast.show ? 'show' : ''} ${toast.type}`,\n        children: toast.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(AdminPage, \"cdGH/i7PUcG3AOqK/jYq6mzfnck=\");\n_c = AdminPage;\nexport default AdminPage;\nvar _c;\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminPage","_s","activeTab","setActiveTab","menuItems","setMenuItems","tables","setTables","categories","setCategories","isMenuModalOpen","setIsMenuModalOpen","isTableModalOpen","setIsTableModalOpen","isQRModalOpen","setIsQRModalOpen","selectedTableForQR","setSelectedTableForQR","confirmModal","setConfirmModal","show","message","onConfirm","showNewCategoryInput","setShowNewCategoryInput","newCategoryName","setNewCategoryName","currentMenuItem","setCurrentMenuItem","currentTable","setCurrentTable","menuImagePreview","setMenuImagePreview","menuImageFile","setMenuImageFile","isMenuLoading","setIsMenuLoading","isTablesLoading","setIsTablesLoading","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","toast","setToast","type","qrRefs","BASE_URL","window","location","origin","API_URL","showToast","msg","setTimeout","openConfirm","onYes","script","document","createElement","src","async","body","appendChild","contains","removeChild","loadMenu","loadTables","loadCategories","QRCode","length","forEach","table","el","current","id","hasChildNodes","text","table_number","width","height","res","fetch","json","success","data","err","Array","isArray","filter","c","trim","addNewCategory","name","includes","method","headers","JSON","stringify","prev","handleImageChange","e","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleMenuSubmit","preventDefault","f","FormData","get","category","image_url","promise","Promise","r","payload","description","price_inr","parseFloat","price_usd","is_available","url","closeMenuModal","handleTableSubmit","num","parseInt","table_name","closeTableModal","showQRModal","deleteMenuItem","item","console","error","deleteTable","showAddMenuModal","editMenuItem","showAddTableModal","editTable","t","closeQRModal","printQR","getElementById","parentElement","win","open","write","innerHTML","close","focus","print","filtered","i","_i$description","s","toLowerCase","nameOk","descOk","catOk","getCategoryColor","map","Appetizer","Dessert","Beverage","Salad","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","placeholder","value","onChange","alt","ref","stopPropagation","onSubmit","accept","defaultValue","required","rows","step","autoFocus","defaultChecked","_c","$RefreshReg$"],"sources":["/home/user/endofhunger/dineflowreact/src/pages/AdminPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\r\n\r\nfunction AdminPage() {\r\n  // ── State ───────────────────────────────────────\r\n  const [activeTab, setActiveTab] = useState('menu');\r\n  const [menuItems, setMenuItems] = useState([]);\r\n  const [tables, setTables] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  // Modals\r\n  const [isMenuModalOpen, setIsMenuModalOpen] = useState(false);\r\n  const [isTableModalOpen, setIsTableModalOpen] = useState(false);\r\n  const [isQRModalOpen, setIsQRModalOpen] = useState(false);\r\n  const [selectedTableForQR, setSelectedTableForQR] = useState(null);\r\n  const [confirmModal, setConfirmModal] = useState({\r\n    show: false,\r\n    message: '',\r\n    onConfirm: () => {},\r\n  });\r\n\r\n  // Add New Category Inline\r\n  const [showNewCategoryInput, setShowNewCategoryInput] = useState(false);\r\n  const [newCategoryName, setNewCategoryName] = useState('');\r\n\r\n  // Form data\r\n  const [currentMenuItem, setCurrentMenuItem] = useState({});\r\n  const [currentTable, setCurrentTable] = useState({});\r\n  const [menuImagePreview, setMenuImagePreview] = useState(null);\r\n  const [menuImageFile, setMenuImageFile] = useState(null);\r\n\r\n  // Loading & Filters\r\n  const [isMenuLoading, setIsMenuLoading] = useState(false);\r\n  const [isTablesLoading, setIsTablesLoading] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n\r\n  // Toast\r\n  const [toast, setToast] = useState({ show: false, message: '', type: 'success' });\r\n\r\n  // Refs\r\n  const qrRefs = useRef({});\r\n  const BASE_URL = window.location.origin;\r\n  const API_URL = 'http://localhost:5000';\r\n\r\n  // ── Helpers ─────────────────────────────────────\r\n  const showToast = (msg, type = 'success') => {\r\n    setToast({ show: true, message: msg, type });\r\n    setTimeout(() => setToast({ show: false, message: '', type: 'success' }), 3000);\r\n  };\r\n\r\n  const openConfirm = (message, onYes) => {\r\n    setConfirmModal({ show: true, message, onConfirm: onYes });\r\n  };\r\n\r\n  // ── Load QRCode lib ─────────────────────────────\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n    script.src = 'https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js';\r\n    script.async = true;\r\n    document.body.appendChild(script);\r\n    return () => {\r\n      if (document.body.contains(script)) document.body.removeChild(script);\r\n    };\r\n  }, []);\r\n\r\n  // ── Load data ───────────────────────────────────\r\n  useEffect(() => {\r\n    loadMenu();\r\n    loadTables();\r\n    loadCategories();\r\n  }, []);\r\n\r\n  // ── Generate QR codes ───────────────────────────\r\n  useEffect(() => {\r\n    if (typeof window.QRCode === 'undefined' || tables.length === 0) return;\r\n    tables.forEach((table) => {\r\n      const el = qrRefs.current[table.id];\r\n      if (el && !el.hasChildNodes()) {\r\n        new window.QRCode(el, {\r\n          text: `${BASE_URL}/customer.html?table=${table.table_number}`,\r\n          width: 200,\r\n          height: 200,\r\n        });\r\n      }\r\n    });\r\n  }, [tables]);\r\n\r\n  // ── API Calls ───────────────────────────────────\r\n  const loadMenu = useCallback(async () => {\r\n    setIsMenuLoading(true);\r\n    try {\r\n      const res = await fetch(`${API_URL}/api/menu`);\r\n      const json = await res.json();\r\n      if (json.success) setMenuItems(json.data || []);\r\n    } catch (err) {\r\n      showToast('Failed to load menu', 'error');\r\n    } finally {\r\n      setIsMenuLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const loadTables = useCallback(async () => {\r\n    setIsTablesLoading(true);\r\n    try {\r\n      const res = await fetch(`${API_URL}/api/tables`);\r\n      const json = await res.json();\r\n      if (json.success) setTables(json.data || []);\r\n    } catch {\r\n      showToast('Failed to load tables', 'error');\r\n    } finally {\r\n      setIsTablesLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const loadCategories = useCallback(async () => {\r\n    try {\r\n      const res = await fetch(`${API_URL}/api/categories`);\r\n      const json = await res.json();\r\n      if (json.success && Array.isArray(json.data)) {\r\n        setCategories(json.data.filter(c => c && c.trim() !== ''));\r\n      }\r\n    } catch {\r\n      setCategories(['Appetizer', 'Main Course', 'Dessert', 'Beverage', 'Salad']);\r\n    }\r\n  }, []);\r\n\r\n  // ── Add New Category ────────────────────────────\r\n  const addNewCategory = async () => {\r\n    const name = newCategoryName.trim();\r\n    if (!name || categories.includes(name)) {\r\n      showToast(name ? 'Category already exists' : 'Enter a name', 'error');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(`${API_URL}/api/categories`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name }),\r\n      });\r\n      const json = await res.json();\r\n      if (json.success) {\r\n        setCategories(prev => [...prev, name]);\r\n        setNewCategoryName('');\r\n        setShowNewCategoryInput(false);\r\n        showToast(`Category \"${name}\" added!`, 'success');\r\n      } else {\r\n        showToast(json.message || 'Failed to add category', 'error');\r\n      }\r\n    } catch {\r\n      showToast('Network error', 'error');\r\n    }\r\n  };\r\n\r\n  // ── Handlers ───────────────────────────────────\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n    setMenuImageFile(file);\r\n    const reader = new FileReader();\r\n    reader.onloadend = () => setMenuImagePreview(reader.result);\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  // ── Submit Handlers ─────────────────────────────\r\n  const handleMenuSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const f = new FormData(e.target);\r\n    const id = f.get('id');\r\n    const category = f.get('category');\r\n\r\n    let image_url = currentMenuItem.image_url || null;\r\n    if (menuImageFile) {\r\n      const promise = () => new Promise((res) => {\r\n        const r = new FileReader();\r\n        r.onloadend = () => res(r.result);\r\n        r.readAsDataURL(menuImageFile);\r\n      });\r\n      image_url = await promise();\r\n    }\r\n\r\n    const payload = {\r\n      name: f.get('name'),\r\n      description: f.get('description'),\r\n      price_inr: parseFloat(f.get('price_inr')),\r\n      price_usd: parseFloat(f.get('price_usd')),\r\n      category,\r\n      is_available: f.get('is_available') === 'on',\r\n      image_url,\r\n    };\r\n\r\n    try {\r\n      const url = id ? `${API_URL}/api/menu/${id}` : `${API_URL}/api/menu`;\r\n      const res = await fetch(url, {\r\n        method: id ? 'PUT' : 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      const json = await res.json();\r\n      if (json.success) {\r\n        closeMenuModal();\r\n        loadMenu();\r\n        loadCategories(); // Refresh categories in case new one was used\r\n        showToast(id ? 'Item updated!' : 'Item added!', 'success');\r\n      } else {\r\n        showToast(json.message || 'Failed to save', 'error');\r\n      }\r\n    } catch {\r\n      showToast('Save failed', 'error');\r\n    }\r\n  };\r\n\r\n  const handleTableSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const f = new FormData(e.target);\r\n    const id = f.get('id');\r\n    const num = parseInt(f.get('table_number'), 10);\r\n\r\n    const payload = {\r\n      table_number: num,\r\n      table_name: f.get('table_name') || null,\r\n    };\r\n\r\n    try {\r\n      const url = id ? `${API_URL}/api/tables/${id}` : `${API_URL}/api/tables`;\r\n      const res = await fetch(url, {\r\n        method: id ? 'PUT' : 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      const json = await res.json();\r\n      if (json.success) {\r\n        closeTableModal();\r\n        loadTables();\r\n        showToast(id ? 'Table updated' : 'Table added', 'success');\r\n        if (!id) setTimeout(() => showQRModal({ ...payload, id: json.data.id, table_number: num }), 300);\r\n      } else showToast(json.message || 'Failed', 'error');\r\n    } catch {\r\n      showToast('Save error', 'error');\r\n    }\r\n  };\r\n\r\n  // ── DELETE MENU ITEM (NOW REALLY WORKS) ─────────\r\n  const deleteMenuItem = (id) => {\r\n    openConfirm('Delete this menu item permanently?', async () => {\r\n      try {\r\n        const res = await fetch(`${API_URL}/api/menu/${id}`, { \r\n          method: 'DELETE' \r\n        });\r\n        const json = await res.json();\r\n        \r\n        if (json.success) {\r\n          setMenuItems(prev => prev.filter(item => item.id !== id));\r\n          showToast('Item deleted successfully!', 'success');\r\n          loadCategories(); // Refresh in case category becomes empty\r\n        } else {\r\n          showToast(json.message || 'Cannot delete (used in orders)', 'error');\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n        showToast('Delete failed', 'error');\r\n      }\r\n      setConfirmModal({ show: false });\r\n    });\r\n  };\r\n\r\n  const deleteTable = (id) => {\r\n    openConfirm('Delete this table & QR code?', async () => {\r\n      try {\r\n        const res = await fetch(`${API_URL}/api/tables/${id}`, { method: 'DELETE' });\r\n        const json = await res.json();\r\n        if (json.success) {\r\n          loadTables();\r\n          showToast('Table deleted', 'success');\r\n        }\r\n      } catch {\r\n        showToast('Error', 'error');\r\n      }\r\n    });\r\n  };\r\n\r\n  // ── Modal Controls ─────────────────────────────\r\n  const showAddMenuModal = () => {\r\n    setCurrentMenuItem({});\r\n    setMenuImagePreview(null);\r\n    setMenuImageFile(null);\r\n    setShowNewCategoryInput(false);\r\n    setNewCategoryName('');\r\n    setIsMenuModalOpen(true);\r\n  };\r\n\r\n  const editMenuItem = (item) => {\r\n    setCurrentMenuItem(item);\r\n    setMenuImagePreview(item.image_url || null);\r\n    setMenuImageFile(null);\r\n    setShowNewCategoryInput(false);\r\n    setNewCategoryName('');\r\n    setIsMenuModalOpen(true);\r\n  };\r\n\r\n  const closeMenuModal = () => setIsMenuModalOpen(false);\r\n  const closeTableModal = () => setIsTableModalOpen(false);\r\n  const showAddTableModal = () => { setCurrentTable({}); setIsTableModalOpen(true); };\r\n  const editTable = (t) => { setCurrentTable(t); setIsTableModalOpen(true); };\r\n  const showQRModal = (t) => { setSelectedTableForQR(t); setIsQRModalOpen(true); };\r\n  const closeQRModal = () => setIsQRModalOpen(false);\r\n\r\n  const printQR = (id) => {\r\n    const el = document.getElementById(`qr-modal-${id}`) || document.getElementById(`qr-${id}`);\r\n    if (!el?.parentElement) return;\r\n    const win = window.open('', '', 'width=800,height=600');\r\n    win.document.write(`\r\n      <html><head><title>QR - Table ${id}</title>\r\n      <style>body{display:flex;justify-content:center;align-items:center;height:100vh;background:#f9fafb;}\r\n      .box{background:white;padding:40px;border-radius:12px;box-shadow:0 10px 25px rgba(0,0,0,.1);}</style>\r\n      </head><body><div class=\"box\">${el.parentElement.innerHTML}</div></body></html>\r\n    `);\r\n    win.document.close();\r\n    win.focus();\r\n    setTimeout(() => { win.print(); win.close(); }, 500);\r\n  };\r\n\r\n  // ── Filters ───────────────────────────────────\r\n  const filtered = menuItems.filter((i) => {\r\n    const s = searchTerm.toLowerCase();\r\n    const nameOk = i.name.toLowerCase().includes(s);\r\n    const descOk = i.description?.toLowerCase().includes(s);\r\n    const catOk = !selectedCategory || i.category === selectedCategory;\r\n    return (nameOk || descOk) && catOk;\r\n  });\r\n\r\n  const getCategoryColor = (c) => {\r\n    const map = {\r\n      Appetizer: 'bg-yellow-100 text-yellow-800',\r\n      'Main Course': 'bg-blue-100 text-blue-800',\r\n      Dessert: 'bg-pink-100 text-pink-800',\r\n      Beverage: 'bg-purple-100 text-purple-800',\r\n      Salad: 'bg-green-100 text-green-800',\r\n    };\r\n    return map[c] || 'bg-gray-100 text-gray-800';\r\n  };\r\n\r\n  // ── Render ─────────────────────────────────────\r\n  return (\r\n    <>\r\n      <style>{`\r\n        @keyframes fade {from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}\r\n        .fade{animation:fade .3s ease-out}\r\n        .card{transition:all .3s}\r\n        .card:hover{transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,0,0,.1)}\r\n        .btn{transition:all .2s;cursor:pointer}\r\n        .btn:hover{transform:scale(1.05)}\r\n        .toast{position:fixed;bottom:20px;right:20px;padding:16px 24px;background:white;border-radius:8px;\r\n          box-shadow:0 4px 12px rgba(0,0,0,.15);display:flex;align-items:center;z-index:1000;\r\n          transform:translateX(400px);transition:transform .3s}\r\n        .toast.show{transform:translateX(0)}\r\n        .toast.success{border-left:4px solid #10b981}\r\n        .toast.error{border-left:4px solid #ef4444;background:#fef2f2;color:#991b1b}\r\n        .loader{border:4px solid #f3f3f3;border-top:4px solid #9333ea;border-radius:50%;width:40px;height:40px;\r\n          animation:spin 1s linear infinite;margin:20px auto}\r\n        @keyframes spin{to{transform:rotate(360deg)}}\r\n        .gradient-bg{background:linear-gradient(135deg,#667eea,#764ba2)}\r\n        .cat-badge{padding:4px 8px;border-radius:4px;font-size:.75rem;font-weight:600}\r\n      `}</style>\r\n\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <header className=\"gradient-bg text-white p-6 shadow-lg\">\r\n          <div className=\"container mx-auto\">\r\n            <h1 className=\"text-3xl font-bold\">Admin Panel</h1>\r\n            <p className=\"text-purple-200 mt-1\">Manage Menu & Tables</p>\r\n          </div>\r\n        </header>\r\n\r\n        <div className=\"container mx-auto px-4 mt-6\">\r\n          <div className=\"flex border-b\">\r\n            <button onClick={() => setActiveTab('menu')} className={`px-6 py-3 font-semibold ${activeTab === 'menu' ? 'text-purple-600 border-b-2 border-purple-600' : 'text-gray-600'}`}>\r\n              Menu\r\n            </button>\r\n            <button onClick={() => setActiveTab('tables')} className={`px-6 py-3 font-semibold ${activeTab === 'tables' ? 'text-purple-600 border-b-2 border-purple-600' : 'text-gray-600'}`}>\r\n              Tables\r\n            </button>\r\n          </div>\r\n\r\n          {/* MENU TAB */}\r\n          {activeTab === 'menu' && (\r\n            <div className=\"mt-6\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h2 className=\"text-2xl font-bold\">Menu Items</h2>\r\n                <button onClick={showAddMenuModal} className=\"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded font-medium\">\r\n                  Add Item\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"flex gap-4 mb-6\">\r\n                <input type=\"text\" placeholder=\"Search...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className=\"flex-1 px-4 py-2 border rounded\" />\r\n                <select value={selectedCategory} onChange={(e) => setSelectedCategory(e.target.value)} className=\"px-4 py-2 border rounded\">\r\n                  <option value=\"\">All Categories</option>\r\n                  {categories.map((c) => (\r\n                    <option key={c} value={c}>{c}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {isMenuLoading ? (\r\n                <div className=\"loader\"></div>\r\n              ) : filtered.length === 0 ? (\r\n                <p className=\"text-center text-gray-500 py-12\">No items found</p>\r\n              ) : (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                  {filtered.map((item) => (\r\n                    <div key={item.id} className=\"bg-white rounded-lg shadow overflow-hidden card\">\r\n                      {item.image_url && <img src={item.image_url} alt={item.name} className=\"w-full h-48 object-cover\" />}\r\n                      <div className=\"p-5\">\r\n                        <h3 className=\"font-bold text-lg\">{item.name}</h3>\r\n                        <p className=\"text-sm text-gray-600 mt-1\">{item.description || 'No description'}</p>\r\n                        <div className=\"flex justify-between items-center mt-3\">\r\n                          <span className=\"text-xl font-bold text-purple-600\">₹{item.price_inr}</span>\r\n                          <span className={`cat-badge ${getCategoryColor(item.category)}`}>{item.category}</span>\r\n                        </div>\r\n                        <div className=\"flex gap-2 mt-4\">\r\n                          <button onClick={() => editMenuItem(item)} className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-sm\">Edit</button>\r\n                          <button onClick={() => deleteMenuItem(item.id)} className=\"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded text-sm\">Delete</button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* TABLES TAB */}\r\n          {activeTab === 'tables' && (\r\n            <div className=\"mt-6\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h2 className=\"text-2xl font-bold\">Tables</h2>\r\n                <button onClick={showAddTableModal} className=\"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded font-medium\">Add Table</button>\r\n              </div>\r\n\r\n              {isTablesLoading ? (\r\n                <div className=\"loader\"></div>\r\n              ) : tables.length === 0 ? (\r\n                <p className=\"text-center text-gray-500 py-12\">No tables</p>\r\n              ) : (\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                  {tables.map((t) => (\r\n                    <div key={t.id} className=\"bg-white rounded-lg shadow p-6 text-center card\">\r\n                      <h3 className=\"font-bold text-xl\">{t.table_name || `Table ${t.table_number}`}</h3>\r\n                      <div ref={(el) => (qrRefs.current[t.id] = el)} className=\"my-4\"></div>\r\n                      <div className=\"flex gap-2 mt-4\">\r\n                        <button onClick={() => editTable(t)} className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-sm\">Edit</button>\r\n                        <button onClick={() => showQRModal(t)} className=\"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded text-sm\">QR</button>\r\n                        <button onClick={() => deleteTable(t.id)} className=\"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded text-sm\">Del</button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* MENU MODAL */}\r\n        {isMenuModalOpen && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\" onClick={closeMenuModal}>\r\n            <div className=\"bg-white rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto\" onClick={(e) => e.stopPropagation()}>\r\n              <h3 className=\"text-xl font-bold mb-4\">{currentMenuItem.id ? 'Edit' : 'Add'} Item</h3>\r\n              <form onSubmit={handleMenuSubmit}>\r\n                <input type=\"hidden\" name=\"id\" value={currentMenuItem.id || ''} />\r\n                {menuImagePreview && <img src={menuImagePreview} alt=\"prev\" className=\"w-full h-48 object-cover rounded mb-3\" />}\r\n                <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} className=\"w-full mb-3\" />\r\n                <input name=\"name\" defaultValue={currentMenuItem.name} placeholder=\"Name\" required className=\"w-full px-4 py-2 border mb-3 rounded\" />\r\n                <textarea name=\"description\" defaultValue={currentMenuItem.description} placeholder=\"Description\" className=\"w-full px-4 py-2 border mb-3 rounded\" rows=\"2\" />\r\n\r\n                <div className=\"grid grid-cols-2 gap-3 mb-3\">\r\n                  <input name=\"price_inr\" type=\"number\" step=\"0.01\" defaultValue={currentMenuItem.price_inr} placeholder=\"INR\" required className=\"px-4 py-2 border rounded\" />\r\n                  <input name=\"price_usd\" type=\"number\" step=\"0.01\" defaultValue={currentMenuItem.price_usd} placeholder=\"USD\" required className=\"px-4 py-2 border rounded\" />\r\n                </div>\r\n\r\n                {/* CATEGORY SELECT WITH ADD NEW */}\r\n                <div className=\"mb-3\">\r\n                  <select\r\n                    name=\"category\"\r\n                    defaultValue={currentMenuItem.category || ''}\r\n                    required\r\n                    className=\"w-full px-4 py-2 border rounded\"\r\n                    onChange={(e) => {\r\n                      if (e.target.value === 'add-new') {\r\n                        setShowNewCategoryInput(true);\r\n                        e.target.value = '';\r\n                      }\r\n                    }}\r\n                  >\r\n                    <option value=\"\">Select Category</option>\r\n                    {categories.map((c) => (\r\n                      <option key={c} value={c}>{c}</option>\r\n                    ))}\r\n                    <option value=\"add-new\">➕ Add New Category...</option>\r\n                  </select>\r\n\r\n                  {showNewCategoryInput && (\r\n                    <div className=\"flex gap-2 mt-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"New category name\"\r\n                        value={newCategoryName}\r\n                        onChange={(e) => setNewCategoryName(e.target.value)}\r\n                        className=\"flex-1 px-3 py-2 border rounded\"\r\n                        autoFocus\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={addNewCategory}\r\n                        className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm\"\r\n                      >\r\n                        Add\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          setShowNewCategoryInput(false);\r\n                          setNewCategoryName('');\r\n                        }}\r\n                        className=\"bg-gray-400 hover:bg-gray-500 text-white px-3 py-2 rounded text-sm\"\r\n                      >\r\n                        ✕\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <label className=\"flex items-center mb-4\">\r\n                  <input type=\"checkbox\" name=\"is_available\" defaultChecked={currentMenuItem.is_available !== false} className=\"mr-2\" />\r\n                  Available\r\n                </label>\r\n\r\n                <div className=\"flex gap-3\">\r\n                  <button type=\"submit\" className=\"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-2 rounded font-medium\">\r\n                    Save\r\n                  </button>\r\n                  <button type=\"button\" onClick={closeMenuModal} className=\"flex-1 bg-gray-300 hover:bg-gray-400 py-2 rounded\">\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* OTHER MODALS (Table, QR, Confirm) */}\r\n        {isTableModalOpen && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\" onClick={closeTableModal}>\r\n            <div className=\"bg-white rounded-lg max-w-md w-full p-6\" onClick={(e) => e.stopPropagation()}>\r\n              <h3 className=\"text-xl font-bold mb-4\">{currentTable.id ? 'Edit' : 'Add'} Table</h3>\r\n              <form onSubmit={handleTableSubmit}>\r\n                <input type=\"hidden\" name=\"id\" value={currentTable.id || ''} />\r\n                <input name=\"table_number\" type=\"number\" defaultValue={currentTable.table_number} placeholder=\"Number\" required className=\"w-full px-4 py-2 border mb-3 rounded\" />\r\n                <input name=\"table_name\" defaultValue={currentTable.table_name} placeholder=\"Name (optional)\" className=\"w-full px-4 py-2 border mb-3 rounded\" />\r\n                <div className=\"flex gap-3\">\r\n                  <button type=\"submit\" className=\"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-2 rounded font-medium\">Save</button>\r\n                  <button type=\"button\" onClick={closeTableModal} className=\"flex-1 bg-gray-300 hover:bg-gray-400 py-2 rounded\">Cancel</button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {isQRModalOpen && selectedTableForQR && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\" onClick={closeQRModal}>\r\n            <div className=\"bg-white rounded-lg max-w-md w-full p-6 text-center\" onClick={(e) => e.stopPropagation()}>\r\n              <h3 className=\"text-xl font-bold mb-4\">QR – Table {selectedTableForQR.table_number}</h3>\r\n              <div id={`qr-modal-${selectedTableForQR.id}`} ref={(el) => (qrRefs.current[selectedTableForQR.id] = el)}></div>\r\n              <div className=\"flex gap-3 mt-6\">\r\n                <button onClick={() => printQR(selectedTableForQR.id)} className=\"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded\">Print</button>\r\n                <button onClick={closeQRModal} className=\"flex-1 bg-gray-300 hover:bg-gray-400 py-2 rounded\">Close</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Confirm Modal */}\r\n        {confirmModal.show && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\r\n            <div className=\"bg-white rounded-lg p-6 max-w-sm w-full\">\r\n              <p className=\"text-lg mb-6\">{confirmModal.message}</p>\r\n              <div className=\"flex gap-3\">\r\n                <button onClick={() => { confirmModal.onConfirm(); setConfirmModal({ show: false }); }} className=\"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded\">Yes, Delete</button>\r\n                <button onClick={() => setConfirmModal({ show: false })} className=\"flex-1 bg-gray-300 hover:bg-gray-400 py-2 rounded\">Cancel</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Toast */}\r\n        <div className={`toast ${toast.show ? 'show' : ''} ${toast.type}`}>\r\n          {toast.message}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AdminPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}