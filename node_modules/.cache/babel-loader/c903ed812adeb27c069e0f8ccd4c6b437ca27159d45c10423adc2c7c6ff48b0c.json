{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useSearchParams,useNavigate}from'react-router-dom';import LoginPage from'./LoginPage';import UserSignupPage from'./UserSignupPage';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const CustomerAuthPage=()=>{const[isLogin,setIsLogin]=useState(true);const[searchParams]=useSearchParams();const navigate=useNavigate();const tableNumber=searchParams.get('table')||'1';const redirectUrl=\"/customer.html?table=\".concat(tableNumber);useEffect(()=>{// Check if user is already logged in\nconst token=localStorage.getItem('token');const userData=localStorage.getItem('userData');if(token&&userData){navigate(redirectUrl);}},[navigate,redirectUrl]);const toggleAuthMode=()=>{setIsLogin(!isLogin);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-utensils text-white text-2xl\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:isLogin?'Sign in to your account':'Create your account'}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:isLogin?/*#__PURE__*/_jsxs(_Fragment,{children:[\"Or\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:toggleAuthMode,className:\"font-medium text-blue-600 hover:text-blue-500\",children:\"create a new account\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Or\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:toggleAuthMode,className:\"font-medium text-blue-600 hover:text-blue-500\",children:\"sign in to your existing account\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\",children:isLogin?/*#__PURE__*/_jsx(LoginPage,{redirectUrl:redirectUrl}):/*#__PURE__*/_jsx(UserSignupPage,{redirectUrl:redirectUrl})})]});};export default CustomerAuthPage;","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","useNavigate","LoginPage","UserSignupPage","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CustomerAuthPage","isLogin","setIsLogin","searchParams","navigate","tableNumber","get","redirectUrl","concat","token","localStorage","getItem","userData","toggleAuthMode","className","children","onClick"],"sources":["/home/user/endofhunger/dineflowreact/src/pages/CustomerAuthPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSearchParams, useNavigate } from 'react-router-dom';\r\nimport LoginPage from './LoginPage';\r\nimport UserSignupPage from './UserSignupPage';\r\n\r\nconst CustomerAuthPage = () => {\r\n    const [isLogin, setIsLogin] = useState(true);\r\n    const [searchParams] = useSearchParams();\r\n    const navigate = useNavigate();\r\n    const tableNumber = searchParams.get('table') || '1';\r\n    const redirectUrl = `/customer.html?table=${tableNumber}`;\r\n\r\n    useEffect(() => {\r\n        // Check if user is already logged in\r\n        const token = localStorage.getItem('token');\r\n        const userData = localStorage.getItem('userData');\r\n        \r\n        if (token && userData) {\r\n            navigate(redirectUrl);\r\n        }\r\n    }, [navigate, redirectUrl]);\r\n\r\n    const toggleAuthMode = () => {\r\n        setIsLogin(!isLogin);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n            <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n                <div className=\"flex justify-center\">\r\n                    <div className=\"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center\">\r\n                        <i className=\"fas fa-utensils text-white text-2xl\"></i>\r\n                    </div>\r\n                </div>\r\n                <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n                    {isLogin ? 'Sign in to your account' : 'Create your account'}\r\n                </h2>\r\n                <p className=\"mt-2 text-center text-sm text-gray-600\">\r\n                    {isLogin ? (\r\n                        <>\r\n                            Or{' '}\r\n                            <button onClick={toggleAuthMode} className=\"font-medium text-blue-600 hover:text-blue-500\">\r\n                                create a new account\r\n                            </button>\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            Or{' '}\r\n                            <button onClick={toggleAuthMode} className=\"font-medium text-blue-600 hover:text-blue-500\">\r\n                                sign in to your existing account\r\n                            </button>\r\n                        </>\r\n                    )}\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n                {isLogin ? (\r\n                    <LoginPage redirectUrl={redirectUrl} />\r\n                ) : (\r\n                    <UserSignupPage redirectUrl={redirectUrl} />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CustomerAuthPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,eAAe,CAAEC,WAAW,KAAQ,kBAAkB,CAC/D,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACe,YAAY,CAAC,CAAGb,eAAe,CAAC,CAAC,CACxC,KAAM,CAAAc,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAc,WAAW,CAAGF,YAAY,CAACG,GAAG,CAAC,OAAO,CAAC,EAAI,GAAG,CACpD,KAAM,CAAAC,WAAW,yBAAAC,MAAA,CAA2BH,WAAW,CAAE,CAEzDhB,SAAS,CAAC,IAAM,CACZ;AACA,KAAM,CAAAoB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAEjD,GAAIF,KAAK,EAAIG,QAAQ,CAAE,CACnBR,QAAQ,CAACG,WAAW,CAAC,CACzB,CACJ,CAAC,CAAE,CAACH,QAAQ,CAAEG,WAAW,CAAC,CAAC,CAE3B,KAAM,CAAAM,cAAc,CAAGA,CAAA,GAAM,CACzBX,UAAU,CAAC,CAACD,OAAO,CAAC,CACxB,CAAC,CAED,mBACIF,KAAA,QAAKe,SAAS,CAAC,4EAA4E,CAAAC,QAAA,eACvFhB,KAAA,QAAKe,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC7CpB,IAAA,QAAKmB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAChCpB,IAAA,QAAKmB,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAChFpB,IAAA,MAAGmB,SAAS,CAAC,qCAAqC,CAAI,CAAC,CACtD,CAAC,CACL,CAAC,cACNnB,IAAA,OAAImB,SAAS,CAAC,wDAAwD,CAAAC,QAAA,CACjEd,OAAO,CAAG,yBAAyB,CAAG,qBAAqB,CAC5D,CAAC,cACLN,IAAA,MAAGmB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAChDd,OAAO,cACJF,KAAA,CAAAF,SAAA,EAAAkB,QAAA,EAAE,IACI,CAAC,GAAG,cACNpB,IAAA,WAAQqB,OAAO,CAAEH,cAAe,CAACC,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,sBAE3F,CAAQ,CAAC,EACX,CAAC,cAEHhB,KAAA,CAAAF,SAAA,EAAAkB,QAAA,EAAE,IACI,CAAC,GAAG,cACNpB,IAAA,WAAQqB,OAAO,CAAEH,cAAe,CAACC,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,kCAE3F,CAAQ,CAAC,EACX,CACL,CACF,CAAC,EACH,CAAC,cAENpB,IAAA,QAAKmB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACjDd,OAAO,cACJN,IAAA,CAACH,SAAS,EAACe,WAAW,CAAEA,WAAY,CAAE,CAAC,cAEvCZ,IAAA,CAACF,cAAc,EAACc,WAAW,CAAEA,WAAY,CAAE,CAC9C,CACA,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAP,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}